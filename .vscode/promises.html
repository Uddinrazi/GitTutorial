<html>
<body>
<script>

const Posts = [
    {title: 'Post 1' ,body :'This is post 1'},
    {title : 'Post 2', body: 'This is post 2'}
];

function getPost() {
    setTimeout ( () => {
        let output = ' ';
        Posts.forEach( (post, index) => {
            output += `<li> ${post.title}, ${user.lastActTime}</li>`;
        });
        document.body.innerHTML = output;
    },1000)
}

function createPost(post){
    return new Promise( (resolve, reject) => {
        setTimeout( () => {
            Posts.push(post);

            const error =  false;

            if(!error)
            resolve()
            else
            reject('Error: something went wrong')
            ActivityTime()
        },2000)
    })
}
const user = {
    username : 'Admin',
    lastActTime:  new Date()
}
function ActivityTime(user){
    return new Promise( (resolve, reject) => {
        setTimeout( () => {
           user.lastActTime = new Date().getTime();
           resolve(userLastActTime) 

        },1000)
    })
}

    function deletePost(){
        return new Promise( (resolve, reject) => {
            setTimeout( () => {
                if(Posts.length > 0)
               resolve(Posts.pop())
               else
               reject('Array is empty now')
               ActivityTime()
            },1000)
        })
    }

    createPost({title: 'Post 3', body: 'This is post 3'}).then( () => {
        getPost()
        deletePost().then( () => {
           getPost()
        })
    })
    .catch(err => console.log(err))

    </script>
    </body>
    </html>